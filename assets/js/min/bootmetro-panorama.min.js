/*! bootmetro 2013-06-17 */
!function(e){"use strict";var o=function(o,i){this.$element=e(o),this.options=i,this.$groups=e(".panorama-sections .panorama-section"),this.$current=0,this.init()};o.prototype={init:function(){var o=this;this.$element.height(this.$element.parent().height()-e("#nav-bar").outerHeight()),o.resize(),this.options.mousewheel&&e(".panorama-sections").mousewheel(function(e,i){i>0?o.prev():o.next()}),this.options.arrangetiles&&e(".panorama-sections .panorama-section").each(function(){}),this.options.parallax&&e("body").addClass("panorama-parallax"),this.options.showscrollbuttons?(e(".panorama-sections"),e("#panorama-scroll-prev").click(function(e){e.preventDefault(),o.prev()}),e("#panorama-scroll-next").click(function(e){e.preventDefault(),o.next()})):(e("#panorama-scroll-prev").hide(),e("#panorama-scroll-next").hide()),e(".panorama").swipe({swipe:function(e,i){"right"==i&&o.prev(),"left"==i&&o.next()},threshold:0}),o.setButtons(),this.options.keyboard&&e(document).on("keyup",function(e){37==e.which&&o.prev(),39==e.which&&o.next()})},next:function(){var o=this;this.$current++,this.$current>=this.$groups.length&&(this.$current=this.$groups.length-1);var i=e(".panorama-sections"),n=e(this.$groups[this.$current]).position().left;this.options.parallax&&e.support.transition&&e("body").css("background-position",n/2+"px 0px"),i.animate({marginLeft:-n},{duration:200,easing:"swing",complete:function(){o.setButtons()}})},prev:function(){var o=this;this.$current--,0>this.$current&&(this.$current=0);var i=e(".panorama-sections"),n=e(this.$groups[this.$current]).position().left;this.options.parallax&&e.support.transition&&e("body").css("background-position",n/2+"px 0px"),i.animate({marginLeft:-n},{duration:200,easing:"swing",complete:function(){o.setButtons()}})},resize:function(){var o=0;e(".panorama-sections .panorama-section").each(function(i,n){o+=e(n).outerWidth(!0)}),e(".panorama-sections").width(o).height(this.$element.parent().height())},setButtons:function(){return this.options.showscrollbuttons?(0===this.$current?e("#panorama-scroll-prev").hide():e("#panorama-scroll-prev").show(),this.$current===this.$groups.length-1?e("#panorama-scroll-next").hide():e("#panorama-scroll-next").show(),void 0):!1}},e.fn.panorama=function(i){return this.each(function(){var n=e(this),c=n.data("panorama"),x=e.extend({},e.fn.panorama.defaults,"object"==typeof i&&i),a="string"==typeof i?i:x.slide;c?a&&c[a]():n.data("panorama",c=new o(this,x))})},e.fn.panorama.defaults={showscrollbuttons:!0,parallax:!1,keyboard:!0,mousewheel:!0,arrangetiles:!0},e.fn.panorama.Constructor=o}(window.jQuery);